<!DOCTYPE html>
<html>
<body>
    <h1>Calculate Age Difference</h1>

    <label for="birthdate1">Birth Date 1:</label>
    <input type="date" id="birthdate1" name="birthdate1">

    <label for="birthdate2">Birth Date 2:</label>
    <input type="date" id="birthdate2" name="birthdate2">

    <label for="currentDate">Current Date (optional):</label>
    <input type="date" id="currentDate" name="currentDate">

    <button onclick="calculateDifference()">Calculate</button>

    <h2 id="output"></h2>

    <script>
        function calculateDifference() {
            let birthdate1 = new Date(document.getElementById('birthdate1').value);
            let birthdate2 = new Date(document.getElementById('birthdate2').value);
            let currentDateInput = document.getElementById('currentDate').value;
            let currentDate = currentDateInput ? new Date(currentDateInput) : new Date();

            let age1 = calculateAge(birthdate1, currentDate);
            let age2 = calculateAge(birthdate2, currentDate);

            let older = age1 > age2 ? age1 : age2;
            let younger = age1 < age2 ? age1 : age2;
            let ageDifference = Math.abs(age1 - age2);
            
            let roshanFactor = ageDifference;

            if (Math.floor(older / 10) > Math.floor(younger / 10)) {
                roshanFactor += 10;
            }

            if ((older % 10) >= 5 && (younger % 10) < 5) {
                roshanFactor += 5;
            }

            document.getElementById('output').innerHTML = "Actual age difference: " + ageDifference + ", Roshan factor: " + roshanFactor;
        }

        function calculateAge(birthdate, currentDate) {
            let age = currentDate.getFullYear() - birthdate.getFullYear();
            let m = currentDate.getMonth() - birthdate.getMonth();
            if (m < 0 || (m === 0 && currentDate.getDate() < birthdate.getDate())) {
                age--;
            }
            return age;
        }
    </script>

</body>
</html>

